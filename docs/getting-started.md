# Введение
Данная библиотека позволяет работать с DE-эфемеридами (Development Ephemeris), разрабатываемыми NASA JPL.  

### Возможности
- Вычисление значений "_элементов_", хранящихся в выпуске эфемерид:
	- Положение (X, Y, Z) или состояние (X, Y, Z, Vx, Vy, Vz) для одного тела относительно другого на заданный момент времени.
	- Оригинальное значение или (ориг. значение + первая производная) для прочих элементов, не являющихся телами.  
	
- Получение информации о выпуске:
	- Индекс выпуска.
	- Общая информация о выпуске в текстовом виде.
	- Даты начала и конца промежутка, в которм разрешается проводить вычисления.
	- Значения хранящихся констант.

### Начало работы

#### 1. Загрузите файл эфемерид
Для начала работы требуется загрузить файл эфемерид.  
Более подробно о файлах эфемерид и о том где их получить можно узнать в разделе "[О файлах эфемерид](about-epehemris-files.md)".  

#### 2. Включите билиотеку в свой проект
DEPHEM состоит из одного модуля: EphemerisRelease (EphemerisRelease.h, EphemerisRelease.cpp). Добавьте данный модуль в свой проект.


#### 3. Использование

##### 3.1. Включение модуля EphemerisRelease
````c++
#include "dephem/EphemerisRelease.h"
````

##### 3.2. Создание объекта выпуска эфемерид
Создайте объект выпуска эфемерид по пути к файлу:
````c++
std::string filePath("lnxm13000p17000.431");    // Путь к файлу эфемерид.

dph::EphemerisRelease ephemerisRelease(filePath);   // Создание объекта эфемерид.
````

Проверьте готовность объекта к работе:
````c++
bool ready = ephemerisRelease.isReady();
````
В случае корректного чтения файла метод `isReady()` вернёт значение `true`. Значение `false` будет получено при ошибке открытия файла или его несоответствия формату.


##### 3.3. Получение пололжения (или состояния) небесного тела
Для того, чтобы получить положение (или состояние) небесного тела воспользуйтесь методом `calculateBody`.

*Пример.*   
Получение пололжения Луны относительно Земли на момент времени 2451544.5 (JED):

````c++
// Массив для резуьтата вычислений:
double resultArray[3]{};    // x, y, z (km).

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление положения и запись его в массив resultArray:
ephemerisRelease.calculateBody(dph::Calculate::POSITION, dph::Body::MOON, dph::Body::EARTH, 
    JED, resultArray);

````

Более подробно о методе `calculateBody` смотри в разделе "[Получение положения (или состояния) небесного тела](body-pos-state.md)".

##### 3.4 Получение значений прочих элементов выпуска
Для того, чтобы получить значение одного из дополнительных элементов, который *может* храниться в выпуске эфемерид, воспользуйтесь методом `calculateOther`.

*Пример.*  
Получение значения земных нутаций на момент времени 2451544.5 (JED):

````c++
// Массив для резуьтата вычислений:
double resultArray[2]{}; // (rad).

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление значений нутаций и запись их в массив.
ephemerisRelease(dph::Calculate::POSITION, dph::Other::EARTH_NUTATIONS, JED, resultArray);

````

Более подробно о методое `calculateOther` смотри в разделе "[Получение значений дополнительных элементов выпуска](other-elements.md)".

##### 3.5 Получение значений констант выпуска
Для получения значения конкретной константы по её имени воспользуйтесь методом `constant`.

*Пример*  
Получение значения астрономической единицы:
````c++
const double AU = ephemerisRelease.constant("AU");
````