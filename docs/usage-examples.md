# Примеры использования
Во всех примерах будет использоваться выпуск эфемерид **DE431** (файл **lnxm13000p17000.431**).  
Подробнее: "[О файлах эфемерид](about-ephemeris-files.md)".

### 1. Включение заголовочного файла EphemerisRelease
````c++
#include "dephem/EphemerisRelease.hpp"
````

### 2. Создание объекта выпуска эфемерид
Создайте объект выпуска эфемерид по пути к файлу:
````c++
std::string filePath("lnxm13000p17000.431");

dph::EphemerisRelease de431(filePath);
````

### 3. Проверка на корректное открытие и чтение файла
Проверьте готовность объекта к работе при помощи метода `isReady`.

В случае корректного чтения файла метод `isReady` вернёт значение `true`. Значение `false` будет получено при ошибке открытия файла или его несоответствия формату.

### 4. Информация о выпуске эфемерид

#### 4.1. Общая информация о выпуске
Файлы выпусков эфемерид хранят общую информацию о выпуске в строковом виде.
Получите к ней доступ при помощи метода `releaseLabel`. 

>Значение `releaseLabel` для **DE431**:
>````  
>JPL Planetary Ephemeris DE431/LE431  
>Start Epoch: JED= -3100015.5-13200-AUG-15 00:00:00  
>Final Epoch: JED=  8000016.5 17191-MAR-15 00:00:00
>````

#### 4.2. Номер выпуска
Для получения номера выпуска воспользуйтесь методом `releaseIndex`.
>Значение `releaseIndex` для **DE431**:
>````
>431
>````

#### 4.3. Первая и последняя доступные для вычислений даты
Каждому выпуску эфемерид соответствует определённый период, в рамках которого допускается проводить вычисления. Для получения дат начала и конца данного периода воспользуйтесь методами `startDate` и `endDate`, соответственно.
>Значения `startDate` и `endDate` для **DE431**:
>````
>-3027215.5
>````
>````
>7930192.5
>````

### 5. Положение небесного тела
Для того, чтобы получить положение небесного тела воспользуйтесь методом `calculateBody`.

**Пример**  
Получение пололжения Луны относительно Земли на момент времени `2451544.5`:
````c++
// Массив для резуьтата вычислений (x, y, z):
double resultArray[3]{};   

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление и запись результата в массив resultArray:
de431.calculateBody(dph::Calculate::POSITION, 
    dph::Body::MOON, dph::Body::EARTH, JED, resultArray);
````
>Значения `resultArray` для DE431:
>````
>-317650.2419832263 km
>-236464.5459279301 km
>-62676.28863072305 km
>````
Подробнее: "[Положения небесных тел](celestial-bodies-calculations.md)".

### 6. Дополнительные элементы выпуска
Для того, чтобы получить значение одного из дополнительных элементов, который *может* храниться в выпуске эфемерид, воспользуйтесь методом `calculateOther`.

**Пример**  
Получение значения земных нутаций на момент времени `2451544.5`:

````c++
// Массив для резуьтата вычислений:
double resultArray[2]{};

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление и запись результата в массив resultArray:
de431.calculateOther(dph::Calculate::POSITION, 
    dph::Other::EARTH_NUTATIONS, JED, resultArray);
````
>Значения `resultArray` для DE431:
>````
>-0.000067501478654 rad
>-0.000027944643499 rad
>````
Подробнее: "[Дополнительные элементы выпуска](other-items-calculations.md)".

### 7. Получение значений констант выпуска
Для получения значения конкретной константы по её имени воспользуйтесь методом `constant`.

**Пример**  
Получение значения астрономической единицы:
````c++
const double AU = de431.constant("AU");
````
>Значение `AU` для **DE431**:
>````
> 149597870.69999998 km
>````

---
[Вернуться к оглавлению](index.md)