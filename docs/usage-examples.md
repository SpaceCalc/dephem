# Примеры использования
Во всех примерах будет использоваться выпуск эфемерид DE431 (файл *lnxm13000p17000.431*).

### 1. Включение заголовочного файла EphemerisRelease
````c++
#include "dephem/EphemerisRelease.h"
````

### 2. Создание объекта выпуска эфемерид
Создайте объект выпуска эфемерид по пути к файлу:
````c++
std::string filePath("lnxm13000p17000.431");

dph::EphemerisRelease de431(filePath);
````

Проверьте готовность объекта к работе:
````c++
bool ready = de431.isReady();
````
В случае корректного чтения файла метод `isReady()` вернёт значение `true`. Значение `false` будет получено при ошибке открытия файла или его несоответствия формату.

### 3. Информация о выпуске эфемерид
#### 3.1. Первая доступная для вычислений дата
Используйте метод `startDate`.

*Пример.*
````c++
double startDate = de431.startDate();
````
> startDate = -3027215.5

#### 3.2. Последняя доступная для вычислений дата
Используйте метод `endDate`.

*Пример.* 
````c++
double endDate = de431.endDate();
````
> endDate = 7930192.5

#### 3.3. Номерная часть индекса выпуска
Используйте метод `releaseIndex`.

*Пример.*
````c++
unsigned releaseIndex = de431.releaseIndex();
````
> releaseIndex = 431

#### 3.4. Общая информация о выпуске
Используйте метод `releaseLabel`.
````c++
std::string releaseLabel = de431.releaseLabel();
````
>JPL Planetary Ephemeris DE431/LE431  
>Start Epoch: JED= -3100015.5-13200-AUG-15 00:00:00  
>Final Epoch: JED=  8000016.5 17191-MAR-15 00:00:00

### 4. Получение пололжения (или состояния) небесного тела
Для того, чтобы получить положение (или состояние) небесного тела воспользуйтесь методом `calculateBody`.

*Пример.*   
Получение пололжения Луны относительно Земли на момент времени `2451544.5` (JED):

````c++
// Массив для резуьтата вычислений:
double resultArray[3]{};    // x, y, z (km).

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление положения и запись его в массив resultArray:
de431.calculateBody(dph::Calculate::POSITION, dph::Body::MOON, dph::Body::EARTH, 
    JED, resultArray);
````

Более подробно о методе `calculateBody` смотри в разделе "[Получение положения (или состояния) небесного тела](body-pos-state.md)".

### 5. Получение значений прочих элементов выпуска
Для того, чтобы получить значение одного из дополнительных элементов, который *может* храниться в выпуске эфемерид, воспользуйтесь методом `calculateOther`.

*Пример.*  
Получение значения земных нутаций на момент времени `2451544.5` (JED):

````c++
// Массив для резуьтата вычислений:
double resultArray[2]{}; // (rad).

// Момент времени, на который требуется получить положение:
double JED = 2451544.5;

// Вычисление значений нутаций и запись их в массив.
de431.calculateOther(dph::Calculate::POSITION, dph::Other::EARTH_NUTATIONS, JED, resultArray);
````

Более подробно о методое `calculateOther` смотри в разделе "[Получение значений дополнительных элементов выпуска](other-elements.md)".

### 6. Получение значений констант выпуска
Для получения значения конкретной константы по её имени воспользуйтесь методом `constant`.

*Пример*  
Получение значения астрономической единицы:
````c++
const double AU = de431.constant("AU");
````