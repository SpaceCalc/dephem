\hypertarget{dephem_8h_source}{}\doxysection{dephem.\+h}
\label{dephem_8h_source}\index{dephem/dephem.h@{dephem/dephem.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef DEPHEM\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define DEPHEM\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#define \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }dph \{}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{comment}{// Индексы тел.}}
\DoxyCodeLine{18 \textcolor{keyword}{enum} Body}
\DoxyCodeLine{19 \{}
\DoxyCodeLine{20     B\_MERCURY = 1,}
\DoxyCodeLine{21     B\_VENUS   = 2,}
\DoxyCodeLine{22     B\_EARTH   = 3,}
\DoxyCodeLine{23     B\_MARS    = 4,}
\DoxyCodeLine{24     B\_JUPITER = 5,}
\DoxyCodeLine{25     B\_SATURN  = 6,}
\DoxyCodeLine{26     B\_URANUS  = 7,}
\DoxyCodeLine{27     B\_NEPTUNE = 8,}
\DoxyCodeLine{28     B\_PLUTO   = 9,}
\DoxyCodeLine{29     B\_MOON    = 10,}
\DoxyCodeLine{30     B\_SUN     = 11,}
\DoxyCodeLine{31     B\_SSBARY  = 12, \textcolor{comment}{// Барицентр Солнечной Системы.}}
\DoxyCodeLine{32     B\_EMBARY  = 13  \textcolor{comment}{// Барицентр системы Земля-\/Луна.}}
\DoxyCodeLine{33 \};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{comment}{// Индексы элементов.}}
\DoxyCodeLine{36 \textcolor{keyword}{enum} Item \{}
\DoxyCodeLine{37     I\_MERCURY = 0,}
\DoxyCodeLine{38     I\_VENUS   = 1,}
\DoxyCodeLine{39     I\_EMBARY  = 2,}
\DoxyCodeLine{40     I\_MARS    = 3,}
\DoxyCodeLine{41     I\_JUPITER = 4,}
\DoxyCodeLine{42     I\_SATURN  = 5,}
\DoxyCodeLine{43     I\_URANUS  = 6,}
\DoxyCodeLine{44     I\_NEPTUNE = 7,}
\DoxyCodeLine{45     I\_PLUTO   = 8,}
\DoxyCodeLine{46     I\_MOON    = 9,}
\DoxyCodeLine{47     I\_SUN     = 10,}
\DoxyCodeLine{48     I\_EN      = 11,}
\DoxyCodeLine{49     I\_LML     = 12,}
\DoxyCodeLine{50     I\_LMAV    = 13,}
\DoxyCodeLine{51     I\_TTMTDB  = 14}
\DoxyCodeLine{52 \};}
\DoxyCodeLine{53 }
\DoxyCodeLine{60 \textcolor{keyword}{class }\mbox{\hyperlink{classdph_1_1_development_ephemeris}{DevelopmentEphemeris}}}
\DoxyCodeLine{61 \{}
\DoxyCodeLine{62 \textcolor{keyword}{public}:}
\DoxyCodeLine{63 }
\DoxyCodeLine{65     \mbox{\hyperlink{classdph_1_1_development_ephemeris_a7ba77317d0524237310fa39be81663bd}{DevelopmentEphemeris}}();}
\DoxyCodeLine{66 }
\DoxyCodeLine{74     \mbox{\hyperlink{classdph_1_1_development_ephemeris_a7ba77317d0524237310fa39be81663bd}{DevelopmentEphemeris}}(\textcolor{keyword}{const} std::string\& filePath);}
\DoxyCodeLine{75 }
\DoxyCodeLine{77     \mbox{\hyperlink{classdph_1_1_development_ephemeris_a7ba77317d0524237310fa39be81663bd}{DevelopmentEphemeris}}(\textcolor{keyword}{const} \mbox{\hyperlink{classdph_1_1_development_ephemeris}{DevelopmentEphemeris}}\& other);}
\DoxyCodeLine{78 }
\DoxyCodeLine{80     \mbox{\hyperlink{classdph_1_1_development_ephemeris}{DevelopmentEphemeris}}\& \mbox{\hyperlink{classdph_1_1_development_ephemeris_a03fbb9da92c64c13d10ce0dee5280293}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classdph_1_1_development_ephemeris}{DevelopmentEphemeris}}\& other);}
\DoxyCodeLine{81 }
\DoxyCodeLine{89     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a72e58f0d44158ec84747fd87612bc974}{open}}(\textcolor{keyword}{const} std::string\& filePath);}
\DoxyCodeLine{90 }
\DoxyCodeLine{108     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdph_1_1_development_ephemeris_aa5e087da46f9fe7c6bb4b282b0ae42e9}{bodyPosition}}(\textcolor{keywordtype}{int} target, \textcolor{keywordtype}{int} center, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{double} pos[3]) \textcolor{keyword}{const};}
\DoxyCodeLine{109 }
\DoxyCodeLine{127     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a9315e17fa45812ac0d465d1efb687678}{bodyState}}(\textcolor{keywordtype}{int} target, \textcolor{keywordtype}{int} center, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{double} state[6]) \textcolor{keyword}{const};}
\DoxyCodeLine{128 }
\DoxyCodeLine{145     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a77da1cd381db4e473b919c0af161e7b1}{item}}(\textcolor{keywordtype}{int} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a77da1cd381db4e473b919c0af161e7b1}{item}}, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{double}* result) \textcolor{keyword}{const};}
\DoxyCodeLine{146 }
\DoxyCodeLine{148     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a1602730e68d626832246d729415d2243}{isOpen}}() \textcolor{keyword}{const};}
\DoxyCodeLine{149 }
\DoxyCodeLine{151     \textcolor{keywordtype}{double} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a051938436ea3ec384e80fa5bf68328ff}{beginJed}}() \textcolor{keyword}{const};}
\DoxyCodeLine{152 }
\DoxyCodeLine{154     \textcolor{keywordtype}{double} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a583c4a67c15e5a0d39f1b987a2963b81}{endJed}}() \textcolor{keyword}{const};}
\DoxyCodeLine{155 }
\DoxyCodeLine{157     \textcolor{keywordtype}{int} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a407c02ebad4e90fcc8c8f48914c54376}{index}}() \textcolor{keyword}{const};}
\DoxyCodeLine{158 }
\DoxyCodeLine{160     std::string \mbox{\hyperlink{classdph_1_1_development_ephemeris_aed97208ef8563c5db51afd9c033dd56f}{label}}() \textcolor{keyword}{const};}
\DoxyCodeLine{161 }
\DoxyCodeLine{163     \textcolor{keywordtype}{double} \mbox{\hyperlink{classdph_1_1_development_ephemeris_a6f4c0404e113b70b157b14c3f5dfca28}{constant}}(\textcolor{keyword}{const} std::string\& name, \textcolor{keywordtype}{bool}* ok = \textcolor{keyword}{nullptr}) \textcolor{keyword}{const};}
\DoxyCodeLine{164 }
\DoxyCodeLine{165 \textcolor{keyword}{private}:}
\DoxyCodeLine{166     \textcolor{comment}{// Формат эфемерид.}}
\DoxyCodeLine{167     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} LABELS\_COUNT = 3;      \textcolor{comment}{// Строк в подписи.}}
\DoxyCodeLine{168     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} LABEL\_SIZE = 84;       \textcolor{comment}{// Символов в строке подписи.}}
\DoxyCodeLine{169     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} CNAME\_SIZE = 6;        \textcolor{comment}{// Символов в имени константы.}}
\DoxyCodeLine{170     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} CCOUNT\_MAX\_OLD = 400;  \textcolor{comment}{// Кол-\/во констант (ст. формат).}}
\DoxyCodeLine{171     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} CCOUNT\_MAX\_NEW = 1000; \textcolor{comment}{// Кол-\/во констант (нов. формат).}}
\DoxyCodeLine{172     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} MAX\_POLY\_SIZE = 15;    \textcolor{comment}{// Макс. размер полиномов.}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174     \textcolor{comment}{// Работа с файлом}}
\DoxyCodeLine{175     std::string m\_filePath;        \textcolor{comment}{// Путь к файлу эфемерид.}}
\DoxyCodeLine{176     \textcolor{keyword}{mutable} std::ifstream m\_file;  \textcolor{comment}{// Поток чтения файла.}}
\DoxyCodeLine{177     \textcolor{keyword}{mutable} std::vector<double> m\_buffer; \textcolor{comment}{// Буффер блока с коэффициентами.}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179     \textcolor{comment}{// Параметры эфемерид.}}
\DoxyCodeLine{180     std::string m\_label; \textcolor{comment}{// Строковая информация о выпуске.}}
\DoxyCodeLine{181     \textcolor{keywordtype}{int} m\_index;         \textcolor{comment}{// Номерная часть индекса выпуска.}}
\DoxyCodeLine{182     \textcolor{keywordtype}{double} m\_beginJed;   \textcolor{comment}{// Дата начала выпуска (JED).}}
\DoxyCodeLine{183     \textcolor{keywordtype}{double} m\_endJed;     \textcolor{comment}{// Дата окончания выпуска (JED).}}
\DoxyCodeLine{184     \textcolor{keywordtype}{double} m\_blockSpan;  \textcolor{comment}{// Временная протяжённость блока.}}
\DoxyCodeLine{185     \textcolor{keywordtype}{int} m\_keys[15][3];   \textcolor{comment}{// Ключи поиска коэффициентов.}}
\DoxyCodeLine{186     \textcolor{keywordtype}{double} m\_au;         \textcolor{comment}{// Астрономическая единица (км).}}
\DoxyCodeLine{187     \textcolor{keywordtype}{double} m\_emrat;      \textcolor{comment}{// Отношение массы Земли к массе Луны.}}
\DoxyCodeLine{188     \textcolor{keywordtype}{int} m\_ncoeff;        \textcolor{comment}{// Количество коэффициентов в блоке.}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190     std::map<std::string, double> m\_constants; \textcolor{comment}{// Константы выпуска.}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192 }
\DoxyCodeLine{193     \textcolor{comment}{// Обрезать повторяющиеся пробелы (' ') с конца массива символов "{}s"{}}}
\DoxyCodeLine{194     \textcolor{comment}{// размера "{}arraySize"{}.}}
\DoxyCodeLine{195     \textcolor{keyword}{static} std::string cutBackSpaces(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s, \textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{196 }
\DoxyCodeLine{197     \textcolor{comment}{// Приведение объекта к изначальному состоянию.}}
\DoxyCodeLine{198     \textcolor{keywordtype}{void} clear();}
\DoxyCodeLine{199 }
\DoxyCodeLine{200     \textcolor{comment}{// Копирование информации из объекта "{}other"{} в текущий объект.}}
\DoxyCodeLine{201     \textcolor{keywordtype}{void} copyHere(\textcolor{keyword}{const} \mbox{\hyperlink{classdph_1_1_development_ephemeris}{DevelopmentEphemeris}}\& other);}
\DoxyCodeLine{202 }
\DoxyCodeLine{203     \textcolor{comment}{// Чтение файла.}}
\DoxyCodeLine{204     \textcolor{keywordtype}{bool} read();}
\DoxyCodeLine{205 }
\DoxyCodeLine{206     \textcolor{comment}{// Заполнение буффера "{}m\_buffer"{} коэффициентами требуемого блока.}}
\DoxyCodeLine{207     \textcolor{keywordtype}{bool} fillBuffer(\textcolor{keywordtype}{size\_t} blockNum) \textcolor{keyword}{const};}
\DoxyCodeLine{208 }
\DoxyCodeLine{209     \textcolor{keywordtype}{bool} body(\textcolor{keywordtype}{int} resType, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{int} target, \textcolor{keywordtype}{int} center,}
\DoxyCodeLine{210         \textcolor{keywordtype}{double}* res) \textcolor{keyword}{const};}
\DoxyCodeLine{211 }
\DoxyCodeLine{212     \textcolor{comment}{// Базовый элемент.}}
\DoxyCodeLine{213     \textcolor{keywordtype}{bool} baseItem(\textcolor{keywordtype}{int} resType, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{int} baseItem, \textcolor{keywordtype}{double}* res) \textcolor{keyword}{const};}
\DoxyCodeLine{214 }
\DoxyCodeLine{215     \textcolor{comment}{// Земля относительно барицентра Солнечной Системы.}}
\DoxyCodeLine{216     \textcolor{keywordtype}{bool} ssbaryEarth(\textcolor{keywordtype}{int} resType, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{double}* res) \textcolor{keyword}{const};}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \textcolor{comment}{// Луна относительно барицентра Солнечной Системы.}}
\DoxyCodeLine{219     \textcolor{keywordtype}{bool} ssbaryMoon(\textcolor{keywordtype}{int} resType, \textcolor{keywordtype}{double} jed, \textcolor{keywordtype}{double}* res) \textcolor{keyword}{const};}
\DoxyCodeLine{220 }
\DoxyCodeLine{221 \}; \textcolor{comment}{// class EphemerisRelease}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \} \textcolor{comment}{// namespace dph}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// DEPHEM\_H}}

\end{DoxyCode}
